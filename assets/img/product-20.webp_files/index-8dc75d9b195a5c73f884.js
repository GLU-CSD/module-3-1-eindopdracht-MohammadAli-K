"use strict";define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,n,t,a,l){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[48134],{49898:function(e,n,t){t.d(n,{V:function(){return A},A:function(){return L}});var a={};t.r(a),t.d(a,{close:function(){return w},communication:function(){return p},communicationRow:function(){return g},inline:function(){return h},overlay:function(){return x},rowPaddingLeft:function(){return v},rowPaddingRight:function(){return E}});var l=t(89575),o=t(17502),r=t(30812),i=t.n(r),c=t(85959),s=t.n(c),u=t(3906),m=t(58777),d=t(9049),f=t(36124),b=t(83127),p="z9BL8K Z1Xqqm _8xiD-i Vjx5XV _0--MrG HlZ_Tf -ZiX0Q",g="q84f1m snL7ze",v="sKmkSN",E="pMa0tB",h="snL7ze",x="_4iu4Kj mo6ZnF",w="_3ETRgC Md_Vex _9ia6Xz LkH0Rh _2ZBgf",C=t(97103);const k=["children","className","labels","type","isDismissable","onClose"],y=["className","snapLeft","snapRight","withoutPadding","children"],_=e=>{const{children:n,className:t,labels:r={close:"close"},type:c="inline",isDismissable:g=!1,onClose:v=(()=>null)}=e,E=(0,o.A)(e,k);return s().createElement("div",(0,l.A)({className:i()(t,p,a[c])},E),g&&s().createElement(u.A,{"aria-label":r&&r.close,tabIndex:0,preset:m.lH.transparent,className:i()(b.root,w),onClick:v},s().createElement(f.A,{src:d.A})),n)},A=e=>{const{className:n,snapLeft:t=!1,snapRight:a=!1,withoutPadding:r=!1,children:c}=e,u=(0,o.A)(e,y),m=(0,C.B)(A,e);return s().createElement(m,(0,l.A)({className:i()(n,g,!r&&[!t&&v,!a&&E])},u),c)};_.displayName="Communication",A.displayName="CommunicationRow";var L=_},74632:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var a=t(32740),l=t(85959),o=t(21775),r=t.n(o),i=t(28258);const c="notification.follow",s=(e,n,t)=>(a,l)=>{if("custom_click"===a)e.track({name:a,context:{brands:t,customActionSuffix:l,customLabel:c}});else if("custom_view"===a){e.track({name:a,context:{brands:t,customActionSuffix:l,customLabel:c}},n);const r=(l?l+".":"")+c;e.trackStandalone({name:"view_content",context:{legacy_event_name:a,event_trigger_name:(o=r,o.split(" ").join("_").toLowerCase())}},n)}var o};var u=t(2673),m=t(52130),d=t(61070),f=t(71156),b=t(49898),p=t(52517),g=t(51599),v=t(41825),E=t(30812),h=t.n(E);const x=e=>{let{title:n,description:t,imageUrl:a,largeImageUrl:o,ctaLabel:r,ctaLink:i,isMobile:c=!1,onClose:s,onCtaClick:E}=e;return l.createElement(b.A,{style:{borderColor:"#D0D1D3"},type:"overlay",isDismissable:!0,onClose:s,className:h()({[g.Aof]:c,[v.s7]:c,[v.Nd]:c})},l.createElement(b.V,null,l.createElement(u.Ay,{preset:m.nx.h4},n)),c&&l.createElement(b.V,{snapLeft:!0,snapRight:!0},l.createElement(p.Ay,{className:d.Sl,alt:"logo",src:a,srcSet:a+", "+o+" 2x"})),l.createElement(b.V,null,l.createElement(u.Ay,null,t)),!c&&l.createElement(b.V,null,l.createElement(p.Ay,{className:d.Sl,alt:"logo",src:a,srcSet:a+", "+o+" 2x"})),l.createElement(b.V,null,l.createElement(f.A,{href:i,onClick:E},r)))};var w=t(89862),C=t(10170);const k=e=>{let{notificationData:n,isMobile:t=!1,track:a}=e;const[o,r]=l.useState(!0),i=l.useRef(null);l.useEffect((()=>{a&&a(w.wc),c.current&&(i.current=document.activeElement,c.current.focus())}),[]);const c=l.useRef(null),s=()=>{var e;r(!1),a&&a(w.bD,"close"),null==(e=i.current)||e.focus()};return o?l.createElement("div",{className:C.QgQ,style:{outline:"none"},ref:c,tabIndex:-1,role:"presentation",onKeyDown:e=>{"Escape"===e.code&&s()}},l.createElement(x,{...n,isMobile:t,onClose:s,onCtaClick:()=>{a&&a(w.bD,"learn more")}})):null},y="FOLLOW_CUSTOM_NOTIFICATION";var _,A;var L=(0,a.tile)().withTracking((e=>({resolve:()=>({context:{id:e.entity.id}})}))).withRender((e=>{const{context:{deviceInfo:n},tools:{tracking:t},ruleData:a}=e,o={enableStandaloneInShadow:!!a.enableStandaloneInShadowPrior2,enableStandaloneOnly:!!a.enableStandaloneOnlyPrior2},c=l.useCallback((e=>{var a,r,c,u,m,d;e.communicationOnFollow&&i.h.show(l.createElement(k,{isMobile:n.isMobile,notificationData:(r=e.communicationOnFollow,{title:r.title,description:null!=(_=r.text)?_:"",imageUrl:r.bannerImage.uri,largeImageUrl:r.bannerImageLarge.uri,ctaLabel:null!=(A=null==(c=r.cta)?void 0:c.text)?A:"",ctaLink:(null==(u=r.cta)?void 0:u.uri)?(d=null==(m=r.cta)?void 0:m.uri,d.replace(/\/+$/,"")+"/?redirect_url="+encodeURIComponent(window.location.href)):""}),track:s(t,o,null==(a=e.brandFamily)?void 0:a.brands)}))}),[n.isMobile,t]);return l.useEffect((()=>(r().on(y,c),()=>r().off(y,c))),[c]),null}))},30812:function(n){n.exports=e},85959:function(e){e.exports=n},48398:function(e){e.exports=t},32740:function(e){e.exports=a},21775:function(e){e.exports=l}},function(e){return e.O(0,[29674],(function(){return n=74632,e(e.s=n);var n})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/entity_follow-brand-notification/index-b11ab4d269f3d7ed66a8.map