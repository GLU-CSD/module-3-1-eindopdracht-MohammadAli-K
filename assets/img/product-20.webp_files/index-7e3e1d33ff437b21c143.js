define(["classnames","react","react-dom","rendering-engine-api","z-shop-event-bus"],(function(e,t,n,r,l){return(self.renderingEngineWebpackJsonp=self.renderingEngineWebpackJsonp||[]).push([[14773],{188:function(e){e.exports={id:"7bc175d95a37b2cd33f0a75e583e70060182aaba2954efe6fb7dbc584fa8a04d"}},14455:function(e){e.exports={id:"68e89c0cc7dba946fac1a658972aeba39af5e93cc8e7e9c24b704a158dbd2e63"}},10144:function(e,t,n){"use strict";var r=n(85959);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}t.A=function(e){var t=e.title,n=e.titleId,c=a(e,["title","titleId"]);return r.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},c),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M21.75 7.512H16.5v-5.25a2.25 2.25 0 0 0-2.25-2.25h-12A2.25 2.25 0 0 0 0 2.262v12a2.25 2.25 0 0 0 2.25 2.25H7.5v5.25a2.25 2.25 0 0 0 2.25 2.25h12a2.25 2.25 0 0 0 2.25-2.25v-12a2.25 2.25 0 0 0-2.25-2.25m-19.5 7.5a.75.75 0 0 1-.75-.75v-12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 .75.75v5.25H9.75a2.25 2.25 0 0 0-2.25 2.25v5.25zm20.25 6.75a.75.75 0 0 1-.75.75h-12a.75.75 0 0 1-.75-.75v-12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 .75.75z"}))}},97822:function(e,t,n){"use strict";var r=n(85959);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}t.A=function(e){var t=e.title,n=e.titleId,c=a(e,["title","titleId"]);return r.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor","aria-labelledby":n},c),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M23.043 12.235 11.703.895A2.98 2.98 0 0 0 9.58.015H3.018c-1.655 0-3 1.346-3 3.006l.014 6.59a2.98 2.98 0 0 0 .88 2.114l11.32 11.32a3 3 0 0 0 2.12.878 3 3 0 0 0 2.123-.877l6.568-6.568a3.005 3.005 0 0 0 0-4.243m-1.06 3.182-6.569 6.568a1.504 1.504 0 0 1-2.121 0L1.972 10.665a1.5 1.5 0 0 1-.44-1.058l-.014-6.592c0-.827.672-1.5 1.5-1.5H9.58c.4 0 .777.156 1.06.44l11.341 11.34a1.504 1.504 0 0 1 0 2.122"}),r.createElement("path",{d:"M14.713 9.004 9 14.716a.75.75 0 1 0 1.061 1.06l5.711-5.712a.75.75 0 1 0-1.06-1.06"}),r.createElement("circle",{cx:14.6,cy:14.6,r:1.1}),r.createElement("path",{d:"M10.137 11.265a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25m-4.875-8.25c-1.24 0-2.25 1.01-2.25 2.25s1.01 2.25 2.25 2.25 2.25-1.01 2.25-2.25-1.01-2.25-2.25-2.25m0 3a.75.75 0 1 1 .002-1.502.75.75 0 0 1-.002 1.502"}))}},17520:function(e,t,n){"use strict";var r=n(85959);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}t.A=function(e){var t=e.title,n=e.titleId,c=a(e,["title","titleId"]);return r.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({width:128,height:16,fill:"none",viewBox:"0 0 128 16","aria-labelledby":n},c),t?r.createElement("title",{id:n},t):null,r.createElement("g",{clipPath:"url(#f84__clip0_3300_13808)"},r.createElement("g",{fill:"#000",clipPath:"url(#f84__clip1_3300_13808)"},r.createElement("path",{d:"m0 12.594 7.88-7.646H.21V3.002H10.93V5.23l-7.88 7.645h8.067v1.947H0zM11.492 11.609c0-2.627 2.251-3.354 4.244-3.612l3.706-.469c.891-.117 1.149-.516 1.149-1.055v-.024c0-1.055-.915-1.829-2.908-1.829-1.923 0-3.002.727-3.19 1.947h-2.485c.281-2.393 2.368-3.87 5.745-3.87 3.776 0 5.324 1.595 5.324 4.221v7.904h-2.369v-1.876c-1.008 1.454-2.814 2.18-4.854 2.18-2.697 0-4.362-1.36-4.362-3.517m9.099-2.134v-.563c-.399.164-.844.258-1.337.328L16.3 9.64c-1.524.21-2.228.774-2.228 1.806 0 1.102.938 1.759 2.463 1.759 2.51 0 4.057-1.712 4.057-3.73M24.18 0h2.485v14.822H24.18zM27.486 11.609c0-2.627 2.251-3.354 4.245-3.612l3.705-.469c.892-.117 1.15-.516 1.15-1.055v-.024c0-1.055-.915-1.829-2.909-1.829-1.923 0-3.001.727-3.19 1.947h-2.485c.281-2.393 2.369-3.87 5.746-3.87 3.776 0 5.323 1.595 5.323 4.221v7.904h-2.368v-1.876c-1.009 1.454-2.815 2.18-4.855 2.18-2.697 0-4.362-1.36-4.362-3.517m9.1-2.134v-.563c-.4.164-.845.258-1.337.328l-2.955.399c-1.525.21-2.228.774-2.228 1.806 0 1.102.938 1.759 2.462 1.759 2.51 0 4.057-1.712 4.057-3.73M40.174 3.002h2.486v1.923c.89-1.407 2.58-2.228 4.643-2.228 3.096 0 4.925 1.782 4.925 5.066v7.059h-2.486V8.114c0-2.18-1.149-3.377-3.26-3.377-2.275 0-3.822 1.525-3.822 3.682v6.403h-2.486zM53.049 8.865c0-3.823 2.65-6.168 5.816-6.168 1.9 0 3.541.68 4.526 2.087V0h2.486v14.822h-2.486v-1.806c-1.078 1.454-2.626 2.11-4.526 2.11-3.166 0-5.816-2.391-5.816-6.261m10.413.023c0-2.462-1.454-4.174-3.917-4.174-2.439 0-3.916 1.688-3.916 4.15 0 2.487 1.477 4.246 3.916 4.246 2.463 0 3.917-1.76 3.917-4.222M66.698 8.888c0-3.635 2.463-6.191 6.52-6.191 4.08 0 6.52 2.556 6.52 6.191 0 3.636-2.44 6.239-6.52 6.239-4.058 0-6.52-2.604-6.52-6.239m10.46 0c0-2.298-1.267-4.174-3.94-4.174s-3.94 1.876-3.94 4.174c0 2.322 1.266 4.222 3.94 4.222s3.94-1.9 3.94-4.222"})),r.createElement("path",{fill:"#FF4C00",fillRule:"evenodd",d:"M91.584.667h28.86a7.666 7.666 0 0 1 0 15.333h-28.86a7.667 7.667 0 0 1 0-15.333m.378 9.069h2.493v-.004c1.855 0 3.356-1.416 3.356-3.162 0-1.747-1.501-3.163-3.356-3.163h-4.361v4.645l-3.468-.005v1.685h3.468v3.53h1.868zm7.098 3.527h6.559v-1.678h-4.69V3.407H99.06zm11.233.207c2.56 0 4.123-1.384 4.123-3.916V3.407h-1.868v6.154c0 1.508-.816 2.283-2.255 2.283s-2.256-.775-2.256-2.283V3.407h-1.868v6.147c0 2.505 1.592 3.916 4.124 3.916m5.119-3.459c.015 2.255 1.564 3.473 4.221 3.473l.004-.004c2.49 0 3.985-1.092 3.977-3.031 0-1.592-.954-2.467-3.265-2.92l-.857-.167c-1.453-.288-1.924-.662-1.924-1.45 0-.764.609-1.218 1.771-1.218 1.498 0 2.107.54 2.177 1.646h1.814c-.069-1.95-1.356-3.154-4.013-3.154-2.31 0-3.653 1.106-3.653 2.78 0 1.596 1.051 2.592 3.169 2.993l.83.166c1.508.319 2.021.65 2.021 1.425 0 .928-.71 1.426-1.996 1.426-1.508 0-2.421-.514-2.436-1.965zm-23.45-4.93h2.402c.874 0 1.581.664 1.581 1.486 0 .823-.707 1.489-1.58 1.489h-2.403z",clipRule:"evenodd"})),r.createElement("defs",null,r.createElement("clipPath",{id:"f84__clip0_3300_13808"},r.createElement("path",{fill:"#fff",d:"M0 0h128v16H0z"})),r.createElement("clipPath",{id:"f84__clip1_3300_13808"},r.createElement("path",{fill:"#fff",d:"M0 0h79.737v15.127H0z"}))))}},41650:function(e){function t(){return new DOMException("The request is not allowed","NotAllowedError")}e.exports=async function(e){try{await async function(e){if(!navigator.clipboard)throw t();return navigator.clipboard.writeText(e)}(e)}catch(n){try{await async function(e){const n=document.createElement("span");n.textContent=e,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const r=window.getSelection(),l=window.document.createRange();r.removeAllRanges(),l.selectNode(n),r.addRange(l);let a=!1;try{a=window.document.execCommand("copy")}finally{r.removeAllRanges(),window.document.body.removeChild(n)}if(!a)throw t()}(e)}catch(e){throw e||n||t()}}}},13276:function(e,t,n){"use strict";var r=n(66901);t.Ay=r.A},73960:function(e,t,n){"use strict";n.d(t,{Uf:function(){return r},Yq:function(){return a},mY:function(){return c},qp:function(){return l}});const r=e=>e.find((e=>e.isDefaultOffer)),l=(e,t)=>{var n;if(!t)return;const l=e.simplesWithStock.find((e=>e.sku===t));var a;const c=r(null!=(a=null==l?void 0:l.allOffers)?a:[]);return null==c||null==(n=c.merchant)?void 0:n.id},a=e=>e.find((e=>e.isDefaultOffer)),c=(e,t)=>{var n;if(!t)return;const r=e.simples.find((e=>e.sku===t));var l;const c=a(null!=(l=null==r?void 0:r.allOffers)?l:[]);return null==c||null==(n=c.merchant)?void 0:n.id}},99251:function(){window.__RENDERING_ENGINE_TRANSLATION_KEYS__={...window.__RENDERING_ENGINE_TRANSLATION_KEYS__,product_incentives:["incentives.legal_terms.info_icon.aria_label","incentives.legal_terms.dialog.loading_error","incentives.copy_coupon.label","voucher.copy.clipboard.success.notification","a11y.slim_sales_banner.copy_voucher"]}},56368:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return He}});var r=n(85959),l=n(29443),a=n(32740),c=n(11506),i=n(52292),o=n(46673),s=n(73960),u=n(30812),d=n.n(u),m=n(14410),f=n(10170),v=n(41825),p=n(36124),g=n(2673),h=n(52130),b=n(97822),y=n(65476),E=n(5073),O=n(38856),_=n(24832),C=n(14936),S=n(95141),w=n(21775);const L="membership:signup:complete",x="PDP$CHANGE_SIZE",k="PDP$UNSELECT_SIZE",N="PDP$OFFER_ADDED_TO_CART",P="default",T="incentives",A="product detail page",M=/#([^#\s]+)#/g,I=/(#[^#\s]+#)/g,D=__("incentives.legal_terms.info_icon.aria_label"),j=__("incentives.legal_terms.dialog.loading_error");var R;!function(e){e.LearnMore="LEARN_MORE",e.SignUp="PLUS_SIGNUP"}(R||(R={}));var B=n(89862);const H=(e,t)=>e.track({name:B.bD,context:{customCategory:A,customLabel:"incentives:"+t}});var U=r.createContext(null);const K={currentSKU:void 0,currentOffer:void 0,isBannerDisplayedOnce:!1,setCurrentSKU:()=>{},setCurrentOffer:()=>{},setIsBannerDisplayedOnce:()=>{}},z=r.createContext(K),F=e=>{let{children:t,defaultValue:n}=e;const[l,a]=r.useState((null==n?void 0:n.currentSKU)||void 0),[c,i]=r.useState((null==n?void 0:n.currentOffer)||void 0),[o,s]=r.useState((null==n?void 0:n.isBannerDisplayedOnce)||!1),u={currentSKU:l,currentOffer:c,isBannerDisplayedOnce:o,setCurrentSKU:a,setCurrentOffer:i,setIsBannerDisplayedOnce:s};return r.createElement(z.Provider,{value:u},t)};var V=z;const Q=(e,t)=>(void 0===t&&(t=!1),{text:e,isBold:t}),W=(e,t)=>{if(!e)return[];const n=e.match(M);if(!n)return[Q(e)];const r=new Map(null==t?void 0:t.map((e=>["#"+e.key+"#",e.value])));return n.some((e=>!r.has(e)))?[]:((e,t)=>e.split(I).filter((e=>e)).map((e=>t.has(e)?Q(t.get(e)||e,!0):Q(e))))(e,r)},G={isLoading:!1,header:void 0,content:void 0,error:!1,setIsLoading:()=>{},setHeader:()=>{},setContent:()=>{},setError:()=>{}},q=r.createContext(G),Y=e=>{let{children:t,defaultValue:n}=e;const[l,a]=r.useState((null==n?void 0:n.isLoading)||!1),[c,i]=r.useState(null==n?void 0:n.header),[o,s]=r.useState(null==n?void 0:n.content),[u,d]=r.useState((null==n?void 0:n.error)||!1),m={isLoading:l,header:c,content:o,error:u,setIsLoading:a,setHeader:i,setContent:s,setError:d};return r.createElement(q.Provider,{value:m},t)};var Z=q,$=n(188);const X=e=>{let{campaignId:t,executeQuery:n,trackEvent:r,store:l}=e;return l.setIsLoading(!0),function(e,t){return()=>{const n={name:B.zM,context:{entity_id:t,customLabel:T}};e(n)}}(r,t)(),n({...$,variables:{id:t}}).then((e=>{let{data:t}=e;var n,r;(null==t?void 0:t.incentivesLegalTerms)?(l.setHeader(J(null==(n=t.incentivesLegalTerms)?void 0:n.title)),l.setContent(J(null==(r=t.incentivesLegalTerms)?void 0:r.description))):l.setError(!0);l.setIsLoading(!1)}))},J=e=>e?e.replace(new RegExp("\\n","g"),"<br/>"):"";var ee=n(81500),te=n(33284),ne=n(17520),re=n(51599),le=n(32099),ae=n(10144),ce=n(13276),ie=n(91936),oe=n(28258),se=n(41650),ue=n.n(se),de=n(4050),me=n(15384);const fe={root:d()(E.OL,O.Fn),ellipsis:d()(m.gO,m.gO),prefix:d()(de.N,f.sWS),contentWrapper:d()(E.OL,O.rX,O.EJ,le.Gm),content:d()(de.N,f.bDL),suffix:d()(de.N)},ve={root:d()(re.hLC,v.Hq,f.iZo,me.clickToHide),spanWrapper:d()(f.ZEI)};var pe=fe;const ge=e=>{const{labels:t,content:n,onCopy:l}=e;return r.createElement("div",{className:d()(pe.root)},r.createElement("div",{className:pe.contentWrapper},Boolean(t.contentLabel)&&r.createElement(g.Ay,{className:d()(pe.prefix),preset:h.nx.bodySmall,tag:"h2"},t.contentLabel),r.createElement(g.Ay,{preset:h.nx.bodyLargeBold,className:d()(pe.content,pe.ellipsis),tag:"h3"},n)),r.createElement("div",null,r.createElement(ce.Ay,{className:pe.suffix,"aria-label":t.copyButtonLabel,styles:ve,onClick:async()=>{if("string"==typeof n){if(await ue()(n),t.notificationMessage){const e=r.createElement(ie.E,{timeout:3e3,ariaLive:t.notificationMessage},r.createElement(g.Ay,{color:h.r7.inverse,preset:h.nx.body},t.notificationMessage));oe.h.show(e)}"function"==typeof l&&l()}}},r.createElement(p.A,{src:ae.A}))))},he=e=>{let{richTextNodes:t}=e;return r.createElement(r.Fragment,null,(t||[]).map(((e,t)=>r.createElement(g.Ay,{key:"node-part-"+t,preset:e.isBold?h.nx.bodySmallBold:h.nx.bodySmall,color:h.r7.primary},e.text))))};var be=n(23215),ye=n(96545);const Ee=e=>{let{href:t,label:n,onClick:l}=e;return n&&(t||l)?r.createElement("div",{className:d()(f.QgQ)},t?r.createElement(be.A,{size:ye.s.medium,href:t,onClick:l},n):r.createElement(be.Y,{size:ye.s.medium,onClick:l},n)):null},Oe=(0,a.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(36304)]).then(n.bind(n,36304)).then((e=>e.default)))),_e=e=>{let{richTextNodes:t,intent:n,legalTerms:l,onPlusSignupClick:a,onCtaClick:c,couponCode:i,onCouponCopyClick:o,plusLogo:s}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:d()(f.yON,E.OL)},r.createElement("div",{className:d()(E.OL,le.Gm,O.Fn)},r.createElement(s,null)),!!l&&r.createElement(Oe,l)),r.createElement(he,{richTextNodes:t}),!!i&&r.createElement("div",{className:d()(f.XiK)},r.createElement(ge,{labels:{contentLabel:__("incentives.copy_coupon.label"),notificationMessage:__("voucher.copy.clipboard.success.notification"),copyButtonLabel:__("a11y.slim_sales_banner.copy_voucher")},content:i,onCopy:o})),n&&r.createElement(Ee,(e=>R.LearnMore===e.kind?{href:e.uri||void 0,onClick:c,label:e.label}:{href:"#",onClick:a,label:e.label})(n)))},Ce=(0,a.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(36304)]).then(n.bind(n,36304)).then((e=>e.default)))),Se=e=>{let{richTextNodes:t,intent:n,legalTerms:l,couponCode:a,onCouponCopyClick:c,onCtaClick:i}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:d()(E.OL)},r.createElement("div",null,r.createElement(he,{richTextNodes:t})),!!l&&r.createElement(Ce,l)),!!a&&r.createElement("div",{className:d()(f.XiK)},r.createElement(ge,{labels:{contentLabel:__("incentives.copy_coupon.label"),notificationMessage:__("voucher.copy.clipboard.success.notification"),copyButtonLabel:__("a11y.slim_sales_banner.copy_voucher")},content:a,onCopy:c})),n&&r.createElement(Ee,{href:n.uri||"#",label:n.label,onClick:i}))};var we=n(29817);const Le=(0,a.createLoadableComponent)((()=>Promise.all([n.e(29674),n.e(36304)]).then(n.bind(n,36304)).then((e=>e.default)))),xe=e=>{let{richTextNodes:t,intent:n,legalTerms:l,onCtaClick:a,couponCode:c,onCouponCopyClick:i}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:d()(f.yON,E.OL)},r.createElement("div",{className:d()(E.OL,le.Gm,O.Fn)},r.createElement(we.A,{size:"s",logo:"LoyaltyPoints"})),!!l&&r.createElement(Le,l)),r.createElement(he,{richTextNodes:t}),!!c&&r.createElement("div",{className:d()(f.XiK)},r.createElement(ge,{labels:{contentLabel:__("incentives.copy_coupon.label"),notificationMessage:__("voucher.copy.clipboard.success.notification"),copyButtonLabel:__("a11y.slim_sales_banner.copy_voucher")},content:c,onCopy:i})),n&&r.createElement(Ee,(e=>R.LearnMore===e.kind?{href:e.uri||void 0,onClick:a,label:e.label}:{href:"#",onClick:()=>{},label:e.label})(n)))},ke=e=>"MONOCHROME_PILL"===e.variant?r.createElement(ee.A,{src:te.A}):r.createElement(ee.A,{src:ne.A});var Ne=e=>{const{isPlusRelevant:t,isLoyaltyRelevant:n,variant:l}=e;let a=r.createElement(Se,e);return t&&l&&(a=r.createElement(_e,{...e,plusLogo:()=>r.createElement(ke,{variant:l})})),n&&(a=r.createElement(xe,e)),r.createElement("div",{className:d()(f.Ol8,f.cgu,v.$A,v.Nd,v.e6,v.FQ,v.NB,re.sS9)},a)};const Pe=(e,t)=>({isPlusRelevant:e.isPlusRelevant,isLoyaltyRelevant:"LOYALTY_POINTS"===e.useCase,variant:t,richTextNodes:W(e.messageTemplate,e.properties),intent:e.intent||void 0,couponCode:e.couponCode||void 0}),Te=(e,t)=>{const{isMobile:n,tracking:r}=e;return{onPlusSignupClick:()=>((e,t,n)=>{H(t,n),e?window.location.href="/membership/sign-up":w.trigger("membership:signup:open",{context:"PDP",page:"register"})})(n,r,t),onCtaClick:()=>H(r,t),onCouponCopyClick:()=>((e,t)=>e.track({name:B.bD,context:{customCategory:"product detail page",customLabel:"incentives.coupon_code:"+t}}))(r,t)}},Ae=(e,t,n,l)=>{const a={root:d()(v.Hq,f.iZo),spanWrapper:d()(f.ZEI),spanWrapperWithImage:d()(f.joi,f.$sS,f.sf0)};var c;const i={labels:{legalTerms:null!=(c=t.content)?c:"",legalTermsIconAriaLabel:D},styles:a,isHTMLContent:!0,isLoadingData:t.isLoading,onOpenDialog:()=>{if(e.legalTerms&&!t.content)return X({campaignId:e.legalTerms.id,executeQuery:n,trackEvent:l,store:t})},header:t.header?r.createElement(r.Fragment,null,r.createElement("div",{className:f.uvl},r.createElement(p.A,{src:b.A,fontSize:"custom",className:m.h2})),r.createElement(g.Ay,{preset:h.nx.h3,tag:"h3",className:f.uvl},t.header)):void 0,loadingBody:r.createElement("div",{className:d()(E.OL,O.bd,O.vF,_.Ig,O.t4,C.Xv)},r.createElement(p.A,{src:y.A,className:d()(O.bd,S.m)})),legalTermsLoadErrorMessage:t.error?j:void 0};return{legalTerms:e.legalTerms?i:void 0}};var Me=e=>{let{setRendererState:t,configSku:n,executeQuery:l,trackEvent:a,prio2TrackingConfig:c}=e;const i=r.useContext(U),o=r.useContext(V),s=r.useContext(Z);if(i&&o&&o.currentSKU){var u,d;const e=null!=(d=o.currentOffer)?d:i.defaultOfferBySKU.get(o.currentSKU),m=e?null==(u=i.incentivesBySKU.get(o.currentSKU))?void 0:u.get(e):void 0;if(r.useEffect((()=>{var e;return e=e=>e&&setTimeout((()=>t({isPlusEligibleSignupComplete:e})),500),w.on(L,(t=>{let{isMember:n}=t;e(n)})),(e=>{w.on(x,(t=>{e(t)}))})((e=>o.setCurrentSKU(e))),(e=>{w.on(k,e)})((()=>o.setCurrentSKU(n))),(e=>{w.on(N,(t=>{e(t)}))})((e=>o.setCurrentOffer(e))),()=>{w.off(x),w.off(k),w.off(L),w.off(N)}}),[]),r.useEffect((()=>{!o.isBannerDisplayedOnce&&m&&(((e,t,n)=>{var r;e.track({name:B.wc,context:{customCategory:A,customLabel:"incentives:"+t}},n),e.trackStandalone({name:"view_content",context:{legacy_event_name:B.wc,event_trigger_name:""+(r="incentives_"+t,r.replace(/[^a-zA-Z0-9]/g,"_").replace(/^_|_$/g,"").toLowerCase())}},n)})(i.tracking,m.id,c),o.setIsBannerDisplayedOnce(!0))})),!m)return null;const f={...Pe(m,i.variant),...Te(i,m.id),...Ae(m,s,l,a)};return f.richTextNodes.length?r.createElement(Ne,f):null}return null};const Ie=(e,t,n,r)=>{let l=n.get(e);l||(l=new Map,n.set(e,l)),r&&l.set(t,r)},De=(e,t)=>{const n=new Map;return t.incentives&&t.incentives.length&&Ie(e,P,n,t.incentives[0]),t.simples&&t.simples.length&&t.simples.forEach((e=>{var t;null==(t=e.allOffers)||t.forEach((t=>{var r,l;t.incentives&&t.incentives.length&&(null==(r=t.merchant)?void 0:r.id)&&Ie(e.sku,null==(l=t.merchant)?void 0:l.id,n,t.incentives[0])}))})),n},je=(e,t)=>{const n=new Map;return t.incentives&&t.incentives.length&&n.set(e,P),t.simples&&t.simples.length&&t.simples.forEach((e=>{var t;null==(t=e.allOffers)||t.forEach((t=>{var r,l;t.incentives&&t.incentives.length&&(null==(r=t.merchant)?void 0:r.id)&&t.isDefaultOffer&&n.set(e.sku,null==(l=t.merchant)?void 0:l.id)}))})),n};var Re=n(14455);const Be=(0,i.C)((e=>e.children));var He=(0,a.tile)({isPlusEligibleSignupComplete:!1}).withQueries(((e,t)=>{let{entity:{id:n}}=e,{isPlusEligibleSignupComplete:r}=t;return{data:{query:Re,variables:{id:n},...r?{fetchPolicy:"network-only"}:{}}}})).withTracking((e=>({def:l.def,context:{id:e.entity.id}}))).withProcessDependencies((e=>{const{product:t}=e.data;return t?{action:"render",data:{product:t}}:{action:"error",message:"Invalid product"}})).withRender((e=>{const{context:{deviceInfo:t,navigation:n,experience:l},data:{product:a},tools:{setRendererState:i,tracking:u,executeQuery:d},entity:{id:m},ruleData:f}=e;if(!a)return null;const{isDesktop:v,isMobile:p}=t,{experienceName:g}=(0,c.q)(l),h={isMobile:p,defaultOfferBySKU:je(m,a),incentivesBySKU:De(m,a),tracking:u,variant:g.isDesigner()?"MONOCHROME_PILL":"DEFAULT"},b=(0,o.tQ)(a,n.url.query)||m,y={currentSKU:b,currentOffer:(0,s.mY)(a,b),isBannerDisplayedOnce:!1},E={header:void 0,content:void 0},O={enableStandaloneInShadow:!!f.enableStandaloneInShadowPrior2,enableStandaloneOnly:!!f.enableStandaloneOnlyPrior2};return r.createElement(Be,{disableListeners:!0,serverMedia:t,isTouchOnServer:!v},r.createElement(U.Provider,{value:h},r.createElement(F,{defaultValue:y},r.createElement(Y,{defaultValue:E},r.createElement(Me,{setRendererState:i,configSku:m,executeQuery:d,trackEvent:e=>u.track(e),prio2TrackingConfig:O})))))}))},30812:function(t){"use strict";t.exports=e},85959:function(e){"use strict";e.exports=t},48398:function(e){"use strict";e.exports=n},32740:function(e){"use strict";e.exports=r},21775:function(e){"use strict";e.exports=l}},function(e){var t=function(t){return e(e.s=t)};return e.O(0,[29674],(function(){return t(99251),t(56368)})),e.O()}])}));
//# sourceMappingURL=https://zalando.de/dev/source-maps/product_incentives/index-80c6a00d6522eb8c1980.map